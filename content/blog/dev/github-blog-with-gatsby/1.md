---
title: "react gatsby로 github 블로그 만들기!"
date: "2019-05-02"
categories: development
tags: ['Jekyll', 'sass']
published: false
---

### index

- [node와 npm](#node와-npm)
- [package.json과 package-lock.json](#packagejson과-package-lockjson)
- [트랜스 컴파일러 babel](#트랜스-컴파일러-babel)
- [lint 프로그램 eslint](#lint-프로그램-eslint)


### gatsby로 블로그 시작하기

#### gatsby-cli 설치하기
터미널에서 다음 명령어를 사용하여 gatsby-cli를 전역에 설치합니다.

``` shell
$ npm install -g gatsby-cli
```

#### 사이트 생성하기

``` shell
$ gatsby new [생성할 사이트 이름] [기본으로 가져올 소스코드 주소] <br>
```

이 명령어를 통해 개츠비에서 제공하는 기본구조의 사이트를 쉽게 생성할 수 있습니다.
`기본으로 가져올 소스코드 주소`를 명시하지 않으면 https://github.com/gatsbyjs/gatsby-starter-default 에 작성된 소스코드가 받아집니다.

저는 블로그가 목적이니 블로그 스타터를 사용했습니다.

``` shell
$ gatsby new react-blog https://github.com/gatsbyjs/gatsby-starter-blog
```

![Chinese Salty Egg](./gatsby_blog_1-1.png)

### github.io 주소 사용하기

다음 명령어를 실행하여 `package.json`의 `devDependencies`에 `gh-pages`를 추가해줍니다.

``` shell
$ npm install gh-pages --save-dev
```

#### github.io를 메인페이지로 사용하기

`package.json`의 `scripts`에 deploy 명령에 대한 내용을 추가해줍니다.

``` javascript
{
  "scripts": {
    ...,
    ...,
    "deploy": "gatsby build && gh-pages -d public -b master"
  }
}
```

이 방법에서는 github pages를 위해 랜더링된 코드가 `master` 브랜치로 업로드되기 때문에 원래 우리의 react 코드는 새로운 브랜치를 만들어 따로 관리하는게 좋습니다.

``` shell
$ git checkout -b'source'
```

`git checkout` 명령어는 다른 브랜치로 이동할 때 사용하는 명령어예요.
`-b` 라는 옵션을 붙이고 뒤에 텍스트 a를 입력하면 a라는 이름의 새로운 브랜치를 만들고 그 브랜치로 바로 이동합니다.


이제 다음 명령어를 실행하면 public 폴더가 `master` 브랜치에 업로드되고 내용이 github.io 에 출력됩니다.
``` shell
$ npm run deploy
```


#### github.io/reponame 으로 연결하기

이 방법을 사용하려면 `gatsby-config.js`에 `pathPrefix`를 명시해야합니다.

``` javascript
module.exports = {
  ...,
  ...,
  pathPrefix: "/reponame",
}
```

`package.json`의 `scripts`에 deploy 명령에 대한 내용을 추가해줍니다.

``` javascript
{
  "scripts": {
    ...,
    ...,
    "deploy": "gatsby build --prefix-paths && gh-pages -d public"
  }
}
```
`npm run deploy`를 실행하면 public 폴더가 `gh-pages` 브랜치에 업로드되고 내용이 github.io/reponame 에 출력됩니다.




### 참고

[Gatsby Docs][gatsby-docs]

[gatsby-docs]: https://www.gatsbyjs.org/docs/quick-start
